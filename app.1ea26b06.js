parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"jtDQ":[function(require,module,exports) {
function t(t,e,l){e.width=e.width;var h=Math.floor(t[0].length>=t.length?e.width/t[0].length:e.height/t.length);for(var i in t)for(var n in t[i])l.strokeStyle="#686868",l.lineWidth=1.5,l.strokeRect(n*h,i*h,h,h),1===t[i][n]&&(l.fillStyle="#000000",l.fillRect(n*h,i*h,h,h));l.strokeStyle="#000000",l.strokeRect(0,0,h*t[0].length,h*t.length)}module.exports=t;
},{}],"PWtJ":[function(require,module,exports) {
function t(t,e,i,l,h){l.width=l.width;var o=Math.floor(t[0].length>=t.length?l.width/(1.5*t[0].length):l.height/(1.5*t.length));for(var r in h.fillStyle="#FFFFFF",h.fillRect(0,0,l.width,l.height),t)for(var f in t[r]){switch(h.strokeStyle="#686868",h.strokeRect(l.width/3+f*o,l.height/3+r*o,o,o),t[r][f]){case 0:h.fillStyle="#FF0000";break;case 1:h.fillStyle="#000000";break;default:h.fillStyle="#FFFFFF"}h.fillRect(l.width/3+f*o,l.height/3+r*o,o,o),2===t[r][f]&&(h.beginPath(),h.strokeStyle="#FF0000",h.moveTo(l.width/3+f*o+.2*o,l.height/3+r*o+.2*o),h.lineTo(l.width/3+f*o+o-.2*o,l.height/3+r*o+o-.2*o),h.stroke(),h.beginPath(),h.strokeStyle="#FF0000",h.moveTo(l.width/3+f*o+o-.2*o,l.height/3+r*o+.2*o),h.lineTo(l.width/3+f*o+.2*o,l.height/3+r*o+o-.2*o),h.stroke())}for(var g in t){e[g].reverse();for(var n=0;n<t[g].length/2;n++)h.fillStyle=g%2==0?"#DDDDDD":"#EAEAEA",h.fillRect(l.width/3-n*o-o,l.height/3+g*o,o,o),e[g][n]&&(h.font=.4*o+"px Arial",h.fillStyle="#000000",h.fillText(e[g][n],l.width/3-n*o-o/1.5,l.height/3+g*o+o/1.5));e[g].length||(h.font=.4*o+"px Arial",h.fillStyle="#000000",h.fillText(0,l.width/3-o/1.5,l.height/3+g*o+o/1.5))}for(var a in t[0]){i[a].reverse();for(var d=0;d<t.length/2;d++)h.fillStyle=a%2==0?"#DDDDDD":"#EAEAEA",h.fillRect(l.width/3+a*o,l.height/3-d*o-o,o,o),i[a][d]&&(h.font=.4*o+"px Arial",h.fillStyle="#000000",h.fillText(i[a][d],l.width/3+a*o+o/3,l.height/3-d*o-o/3));i[a].length||(h.font=.4*o+"px Arial",h.fillStyle="#000000",h.fillText(0,l.width/3+a*o+o/3,l.height/3-o/3))}for(var w=0;w<=t[0].length;w++)w%5==0&&(h.beginPath(),h.strokeStyle="#000000",h.lineWidth=1.5,h.moveTo(l.width/3+w*o,0),h.lineTo(l.width/3+w*o,l.height/3+o*t.length),h.stroke());for(var F=0;F<=t.length;F++)F%5==0&&(h.beginPath(),h.strokeStyle="#000000",h.lineWidth=1.5,h.moveTo(0,l.height/3+F*o),h.lineTo(l.width/3+o*t[0].length,l.height/3+F*o),h.stroke())}module.exports=t;
},{}],"rW1K":[function(require,module,exports) {
function r(r,a,o,f){for(var u=[],t=0;t<a;t++)for(var v=0;v<r;v++)u[t]||(u[t]=[]),u[t][v]=0;for(var e=!0;e;){for(var i in e=!1,u[0]){var h=[];for(var s in u)h.push(u[s][i]);for(var c in h=n(f[i],h),u)0!=h[c]&&h[c]!=u[c][i]&&(e=!0),u[c][i]=h[c]}for(var l in u){var p=u[l].slice();for(var g in p=n(o[l],p),u[0])0!=p[g]&&p[g]!=u[l][g]&&(e=!0),u[l]=p}}return u}function n(r,n){var o=a(r,n.length),f=[];o.forEach(function(r){for(var a=!0,o=0;o<n.length;o++)0!=n[o]&&n[o]!=r[o]&&(a=!1);a&&f.push(r)});var u=f[0].slice();return f.forEach(function(r){for(var a=0;a<n.length;a++)u[a]!=r[a]&&(u[a]=0)}),u}function a(r,n){if(!r.length){for(var o=[],f=0;f<n;f++)o.push(2);return[o]}for(var u=[],t=0;t<n-r[0]+1;t++){for(var v=[],e=0;e<t;e++)v.push(2);for(var i=t;i<t+r[0];i++)v.push(1);var h=t+r[0];if(h<n&&(v.push(2),h+=1),h==n&&!r.length){u.push(v);break}var s=a(r.slice(1,r.length),n-h);for(var c in s){subPermutation=v.slice();for(var l=h;l<n;l++)subPermutation.push(s[c][l-h]);u.push(subPermutation)}}return u}module.exports=r;
},{}],"es8O":[function(require,module,exports) {
function n(n){var r=[];for(var t in n)for(var u in n[t])r[u]||(r[u]=[]),r[u][t]=n[t][u];return{horizontalClues:n.map(function(n){return n.join("").match(/1+/g)||[]}).map(function(n){return n.map(function(n){return n.length})}),verticalClues:r.map(function(n){return n.join("").match(/1+/g)||[]}).map(function(n){return n.map(function(n){return n.length})})}}module.exports=n;
},{}],"j7Qs":[function(require,module,exports) {
function t(t,o,f,n){if(1===t.buttons||2===t.buttons){var e=Math.floor(o[0].length>=o.length?f/o[0].length:n/o.length);for(var s in o)for(var r in o[s])t.offsetX>r*e&&t.offsetX<r*e+e&&t.offsetY>s*e&&t.offsetY<s*e+e&&(o[s][r]=1===t.buttons?1:0)}}module.exports=t;
},{}],"mULf":[function(require,module,exports) {
function e(e,n,l){if(l[0].length<e)for(var r in l)for(var f=0;f<e;f++)null==l[r][f]&&(l[r][f]=0);else if(l[0].length>e)for(var o in l)l[o]=l[o].slice(0,e);if(l.length<n)for(var t=l.length;t<n;t++)l[t]=l[0].map(function(){return 0});else if(l.length>n)for(;l.length>n;)l.pop()}module.exports=e;
},{}],"cwpU":[function(require,module,exports) {
var e=require("./draw-output-grid"),t=require("./generate-clues");function n(n,r){var a=document.createElement("a");if("png"==r){var o=document.createElement("canvas"),i=o.getContext("2d"),u=t(n),d=u.horizontalClues,l=u.verticalClues,c=n.map(function(e){return e.map(function(){return 3})});o.width=100*c[0].length,o.height=100*c.length,e(c,d,l,o,i);var m=o.toDataURL("image/png");a.setAttribute("href","data:image/png"+m),a.setAttribute("download","nonogram.png")}else if("json"==r){var s="[\n   "+n.map(function(e){return JSON.stringify(e)}).join(",\n   ")+"\n]";a.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(s)),a.setAttribute("download","nonogram.json")}a.style.display="none",document.body.appendChild(a),a.click(),document.body.removeChild(a)}module.exports=n;
},{"./draw-output-grid":"PWtJ","./generate-clues":"es8O"}],"Eqzy":[function(require,module,exports) {
function e(e,t,a){return new Promise(function(n){var o=document.createElement("canvas"),r=document.createElement("img");r.src=e,r.onload=function(){o.width=t,o.height=a,o.getContext("2d").drawImage(r,0,0,t,a);for(var e=[],c=0;c<a;c++){e[c]||(e[c]=[]);for(var d=0;d<t;d++){var m=o.getContext("2d").getImageData(d,c,1,1).data;m[0]<128&&m[1]<128&&m[2]<128?e[c][d]=1:e[c][d]=0}}n(e)}})}module.exports=e;
},{}],"A2T1":[function(require,module,exports) {
var e=require("./draw-input-grid"),t=require("./draw-output-grid"),n=require("./solver"),r=require("./generate-clues"),i=require("./handle-mouse-event"),u=require("./resize-grid"),a=require("./export-grid"),c=require("./generate-grid-from-image"),o=document.getElementById("container"),l=o.querySelector('input[name="width"]'),d=o.querySelector('input[name="height"]'),s=o.querySelector('input[name="file"]'),g=o.querySelector('button[name="clear"]'),v=o.querySelector('button[name="invert"]'),f=o.querySelector('button[name="image"]'),m=o.querySelector('button[name="export-json"]'),h=o.querySelector('button[name="export-png"]'),p=o.querySelector("#input-grid canvas"),q=o.querySelector("#output-grid canvas"),L=p.getContext("2d"),E=q.getContext("2d"),y=[[0,0,0,1,1,1,1,0,0,0],[0,0,1,0,0,1,1,1,0,0],[1,1,1,1,1,1,1,1,1,1],[0,1,0,1,0,0,1,0,1,0],[1,0,0,0,1,1,0,0,0,1],[1,0,0,0,1,1,0,0,0,1],[0,1,0,1,0,0,1,0,1,0],[0,1,0,0,1,1,0,0,1,0],[0,0,1,0,0,0,0,1,0,0],[0,1,1,1,1,1,1,1,1,0]];function S(){o.classList.add("calculating"),setTimeout(function(){var e=r(y),i=e.horizontalClues,u=e.verticalClues,a=n(y[0].length,y.length,i,u);t(a,i,u,q,E),o.classList.remove("calculating")},50)}function w(){var i=r(y),u=i.horizontalClues,a=i.verticalClues,c=n(y[0].length,y.length,u,a);e(y,p,L),t(c,u,a,q,E)}p.addEventListener("contextmenu",function(e){e.preventDefault()}),p.addEventListener("mousedown",function(t){i(t,y,p.width,p.height),e(y,p,L)}),p.addEventListener("mousemove",function(t){i(t,y,p.width,p.height),e(y,p,L)}),p.addEventListener("mouseup",function(e){o.classList.contains("calculating")||S()}),l.addEventListener("change",function(t){u(parseInt(t.target.value),y.length,y),e(y,p,L),S()}),d.addEventListener("change",function(t){u(y[0].length,parseInt(t.target.value),y),e(y,p,L),S()}),g.addEventListener("click",function(t){y=y.map(function(e){return e.map(function(){return 0})}),e(y,p,L),S()}),v.addEventListener("click",function(t){y=y.map(function(e){return e.map(function(e){return 1===e?0:1})}),e(y,p,L),S()}),f.addEventListener("click",function(e){s.click()}),s.addEventListener("change",function(e){if(e.target.files.length&&e.target.accept.includes(e.target.files[0].type)){var t=new FileReader;t.addEventListener("load",function(){c(t.result,l.value,d.value).then(function(e){y=e,S()})}),t.readAsDataURL(e.target.files[0])}}),h.addEventListener("click",function(e){a(y,"png")}),m.addEventListener("click",function(e){a(y,"json")}),w();
},{"./draw-input-grid":"jtDQ","./draw-output-grid":"PWtJ","./solver":"rW1K","./generate-clues":"es8O","./handle-mouse-event":"j7Qs","./resize-grid":"mULf","./export-grid":"cwpU","./generate-grid-from-image":"Eqzy"}]},{},["A2T1"], null)